# Função que calcula o INSS (desconto obrigatório de acordo com a faixa salarial em 2025)
def calcular_inss(salario):
    if salario <= 1518.00:
        return salario * 0.075  # desconto de 7,5%
    elif salario <= 2793.88:
        return (salario * 0.09) - 22.77  # aqui já tem um valor fixo que tira
    elif salario <= 4190.83:
        return (salario * 0.12) - 106.59
    elif salario <= 8157.41:
        return (salario * 0.14) - 190.40
    else:
        return (8157.41 * 0.14) - 190.40  # valor máximo que alguém pode pagar de INSS

# Função que calcula o IR (imposto de renda)
def calcular_ir(salario):
    if salario <= 2259.20:
        return 0  # quem ganha até aqui não paga nada
    elif salario <= 2826.65:
        return (salario * 0.075) - 169.44
    elif salario <= 3751.05:
        return (salario * 0.15) - 381.44
    elif salario <= 4664.68:
        return (salario * 0.225) - 662.77
    else:
        return (salario * 0.275) - 896.00

# Função do sindicato (sempre 5% do salário bruto)
def calcular_sindicato(salario):
    return salario * 0.05

# Aqui vai ficar a lista com todos os funcionários cadastrados
funcionarios = []

def cadastrar_funcionario():
    nome = input("Nome do Funcionário(a): ").strip()
    valor_hora = input('Valor por hora: ').strip()
    quantidade_horas = input('Quantidade de horas no mês: ').strip()

    if not nome or not valor_hora or not quantidade_horas:
        print("⚠ Todos os campos são obrigatórios!")
        return

    valor_hora = float(valor_hora)
    quantidade_horas = float(quantidade_horas)

    salario_bruto = valor_hora * quantidade_horas  # quanto a pessoa ganha sem descontos
    inss = calcular_inss(salario_bruto)  # desconto do INSS
    ir = calcular_ir(salario_bruto - inss)  # o IR é calculado em cima do salário já descontado do INSS
    sindicato = calcular_sindicato(salario_bruto)  # desconto do sindicato
    salario_liquido = salario_bruto - (ir + inss + sindicato)  # salário final que sobra

    funcionario = {
        "nome": nome,
        "salario_bruto": salario_bruto,
        "ir": ir,
        "inss": inss,
        "sindicato": sindicato,
        "salario_liquido": salario_liquido
    }

    funcionarios.append(funcionario)
    print("\nFuncionário cadastrado com sucesso!\n")
def listar_funcionarios():
    if not funcionarios:
        print("\nNenhum funcionário cadastrado.\n")
    else:
        for f in funcionarios:
            print(f"Nome: {f['nome']}")
            print(f"Salário Bruto : R$ {f['salario_bruto']:.2f}")
            print(f"INSS : R$ {f['inss']:.2f}")
            print(f"IRRF : R$ {f['ir']:.2f}")
            print(f"Sindicato (5%) : R$ {f['sindicato']:.2f}")
            print(f"= Salário Líquido : R$ {f['salario_liquido']:.2f}\n")
            print("-" * 40)

def excluir_funcionario():
    nome = input("Digite o nome do funcionário a excluir: ").strip()
    for f in funcionarios:
        if f["nome"].lower() == nome.lower():
            funcionarios.remove(f)
            print(f"Funcionário {nome} excluído com sucesso!")
            return
    print("Funcionário não encontrado.")

while True:
    print("\n---- SISTEMA FOLHA DE PAGAMENTO ----")
    print("1 - Cadastrar Funcionário")
    print("2 - Listar Funcionários")
    print("3 - Excluir Funcionário")
    print("4 - Sair")

    opcao = input("Escolha uma opção: ").strip()

    if opcao == "1":
        cadastrar_funcionario()
    elif opcao == "2":
        listar_funcionarios()
    elif opcao == "3":
        excluir_funcionario()
    elif opcao == "4":
        print("Programa finalizado com sucesso!!!")
        break
    else:
        print("Opção inválida! Tente novamente.")



